angular.module("angular-loopify-number-picker",[]).run(["$templateCache",function(e){"use strict";e.put("template/loopify/numberpicker.html",'<table class="loopify-number-picker"><tbody><tr class="text-center"><td><a ng-click="incrementValue()" ng-class="{disabled: !canUp}" class="btn btn-link" ng-disabled="!canUp"><span class="glyphicon glyphicon-chevron-up"></span></a></td></tr><tr><td class="form-group" ng-class="{\'has-max\': isMaxValue, \'has-min\': isMinValue}"><input style="width:68px;" type="text" ng-model="value" class="form-control text-center" ng-disabled="disabled" ng-readonly="enter" id="{{id}}"></td><td ng-if="label"><button type="button" class="btn btn-gray text-center" ng-click="togglePercentageValue()" ng-if="percent">{{percentLabel}}</button><label for="{{id}}" class="control-label" ng-if="!percent">{{label}}</label></td></tr><tr class="text-center"><td><a ng-click="decrementValue()" ng-class="{disabled: !canDown}" class="btn btn-link" ng-disabled="!canDown"><span class="glyphicon glyphicon-chevron-down"></span></a></td></tr></tbody></table>')}]).directive("loopifyNumberPicker",[function(){"use strict";var e={min:0,max:1/0,step:1,enter:!1,percent:!1,label:void 0,methodRound:void 0},n={index:0,assignExtend:function(e,n){var t={};for(var a in n)e[a]?t[a]=e[a]:(t[a]=n[a],e[a]=n[a]);return t},isNumber:function(e){var n=Number(e);return!isNaN(n)&&n===+e},toNumber:function(e){return Number(e)},checkNumber:function(e){var n=this,t=0;return angular.isArray(e)?(angular.forEach(e,function(e){n.isNumber(e)||t++}),t>0?!1:!0):this.isNumber(e)?!0:!1},transform:function(e){for(var n in e)e[n]=this.toNumber(e[n])},getId:function(){return"number-picker-"+ ++this.index}},t={restrict:"E",scope:{value:"=",min:"@",max:"@",step:"@",enter:"@",percent:"@",label:"@",methodRound:"@"}};return angular.extend(t,{link:function(t,a){var r=n.assignExtend(t,e);if(!n.checkNumber([r.min,r.max,r.step]))throw new Error("some value: (min, max or step) is not a valid number");t.percent&&(t.percentLabel="%"),t.percent&&(t.isPercent=!0),t.id=n.getId(),n.transform(r),r.min>t.value&&(t.value=r.min),t.incrementValue=function(){t.value>=(t.isPercent?100:r.max)||(t.value+=r.step)},t.decrementValue=function(){t.value<=(t.isPercent?0:r.min)||(t.value-=r.step)},t.togglePercentageValue=function(){t.isPercent=!t.isPercent,t.isPercent?t.percentLabel="%":t.percentLabel=t.label},t.$watch("value",function(e,a){var l=t.isPercent?0:r.min,c=t.isPercent?100:r.max;t.canDown=e>l,t.canUp=c>e,t.isMaxValue=!t.canUp,t.isMinValue=!t.canDown,(!n.checkNumber(e)||e>c||l>e)&&(t.value=n.checkNumber(a)?a:r.min)}),t.$watch("percentLabel",function(){t.isPercent?t.value=t.methodRound?Math[t.methodRound](t.value/t.max*100):t.value/t.max*100:t.value=t.methodRound?Math[t.methodRound](t.max*t.value/100):t.max*t.value/100})},templateUrl:"template/loopify/numberpicker.html"})}]);