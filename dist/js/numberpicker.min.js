angular.module("angular-loopify-number-picker",[]).run(["$templateCache",function(e){"use strict";e.put("template/loopify/numberpicker.html",'<table class="loopify-number-picker"><tbody><tr class="text-center"><td><a ng-click="incrementValue()" ng-class="{disabled: !canUp}" class="btn btn-link" ng-disabled="!canUp"><span class="glyphicon glyphicon-chevron-up"></span></a></td></tr><tr><td class="form-group" ng-class="{\'has-max\': isMaxValue, \'has-min\': isMinValue}"><input style="width:68px;" type="text" ng-model="value" class="form-control text-center" ng-disabled="disabled" ng-readonly="enter" id="{{id}}"></td><td ng-if="label"><button type="button" class="btn btn-gray text-center" ng-click="togglePercentageValue()" ng-if="percent">{{percentLabel}}</button><label for="{{id}}" class="control-label" ng-if="!percent">{{label}}</label></td></tr><tr class="text-center"><td><a ng-click="decrementValue()" ng-class="{disabled: !canDown}" class="btn btn-link" ng-disabled="!canDown"><span class="glyphicon glyphicon-chevron-down"></span></a></td></tr></tbody></table>')}]).directive("loopifyNumberPicker",[function(){"use strict";var e={min:0,max:1/0,step:1,enter:!1,percent:!1,label:void 0,methodRound:void 0},n={index:0,assignExtend:function(e,n){for(var t in n)void 0===e[t]&&(e[t]=n[t])},isNumber:function(e){var n=Number(e);return!isNaN(n)&&n==e},toNumber:function(e){return Number(e)},checkNumber:function(e,n){var t=this,a=0;return angular.isArray(e)?(angular.forEach(e,function(e){e=n?n[e]:e,t.isNumber(e)||a++}),a>0?!1:!0):(e=n?n[e]:e,this.isNumber(e)?!0:!1)},getId:function(){return"number-picker-"+ ++this.index}},t={restrict:"E",scope:{value:"=",min:"=",max:"=",step:"=",enter:"@",percent:"@",label:"@",methodRound:"@"}};return angular.extend(t,{link:function(t){function a(e){var a=t.isPercent?0:t.min,l=t.isPercent?100:t.max;t.canDown=e>a&&+e-+t.step>=a,t.canUp=l>e&&+e+ +t.step<=l,t.isMaxValue=!t.canUp,t.isMinValue=!t.canDown,(!n.checkNumber(e)||e>l||a>e)&&(t.value=n.checkNumber(t.oldValue)?t.oldValue:t.min),t.oldValue=e}var l=["value","min","max","step"];if(n.assignExtend(t,e),!n.checkNumber(l,t))throw new Error("some value: (min, max or step) is not a valid number");t.percent&&(t.percentLabel="%"),t.percent&&(t.isPercent=!0),t.id=n.getId(),t.checkEdge=function(){t.min>t.value&&(t.value=t.min),t.max<t.value&&(t.value=t.max)},t.checkEdge(),t.incrementValue=function(){t.value>=(t.isPercent?100:t.max)||(t.value+=+t.step,a(t.value))},t.decrementValue=function(){t.value<=(t.isPercent?0:t.min)||(t.value-=+t.step,a(t.value))},t.togglePercentageValue=function(){t.isPercent=!t.isPercent,t.isPercent?t.percentLabel="%":t.percentLabel=t.label},t.$watch("percentLabel",function(){t.isPercent?t.value=t.methodRound?Math[t.methodRound](t.value/t.max*100):t.value/t.max*100:t.value=t.methodRound?Math[t.methodRound](t.max*t.value/100):t.max*t.value/100}),t.$watchGroup(l,function(){t.checkEdge(),a(t.value)})},templateUrl:"template/loopify/numberpicker.html"})}]);